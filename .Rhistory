head(df)
# ADD BACK IN THE Three Compartments with 0 SR
zeroSR<-filter(habitat2, Site %!in% levels(diversity_data_coverage$Site))
# ADD BACK IN THE Three Compartments with 0 SR
zeroSR<-filter(habitat2, Site !%in% levels(diversity_data_coverage$Site))
# ADD BACK IN THE Three Compartments with 0 SR
zeroSR<-filter(habitat2, !Site %in% levels(diversity_data_coverage$Site))
zeroSR
# ADD BACK IN THE Three Compartments with 0 SR
zeroSR<-filter(habitat2, !Site %in% levels(diversity_data_coverage$Site)) %>%
bind_rows(replicate(3, zeroSR, simplify = FALSE))
# ADD BACK IN THE Three Compartments with 0 SR
zeroSR<-filter(habitat2, !Site %in% levels(diversity_data_coverage$Site))
bind_rows(replicate(3, zeroSR, simplify = FALSE))
zeroSR
habitat2
?replicate
bind_rows(replicate(3, zeroSR, simplify = FALSE)) %>%
arrange(Site)
bind_rows(replicate(3, zeroSR, simplify = FALSE)) %>%
arrange(Site, ForestAge)
bind_rows(replicate(3, zeroSR, simplify = FALSE)) %>%
arrange(Site, ForestAge) %>%
mutate(diversity_estimate = 0)
bind_rows(replicate(3, zeroSR, simplify = FALSE)) %>%
arrange(Site, ForestAge) %>%
mutate(diversity_estimate = 0) %>%
select(ForestAge, Site, diversity_estimate, CanopyClosure:WaterDistance)
ZeroDF <- bind_rows(replicate(3, zeroSR, simplify = FALSE)) %>%
arrange(Site, ForestAge) %>%
mutate(diversity_estimate = 0) %>%
select(ForestAge, Site, diversity_estimate, CanopyClosure:WaterDistance)
# quick check
head(df)
zeroSR
ZeroDF <- bind_rows(replicate(3, zeroSR, simplify = FALSE)) %>%
arrange(Site, ForestAge) %>%
mutate(diversity_estimate = 0, order = rep(0:2, 12)) %>%
select(Site, order, diversity_estimate, ForestAge, CanopyClosure:WaterDistance)
rep(0:2, 12)
ZeroDF <- bind_rows(replicate(3, zeroSR, simplify = FALSE)) %>%
arrange(Site, ForestAge) %>%
mutate(diversity_estimate = 0, order = rep(0:2, 4)) %>%
select(Site, order, diversity_estimate, ForestAge, CanopyClosure:WaterDistance)
ZeroDF
names(ZeroDF) <- names(df)
# quick check
head(df)
ZeroDF <- bind_rows(replicate(3, zeroSR, simplify = FALSE)) %>%
arrange(Site, ForestAge) %>%
mutate(diversity_estimate = 0, order = rep(0:2, 4), coverage = NA) %>%
select(Site, order, diversity_estimate, ForestAge, CanopyClosure:WaterDistance)
names(ZeroDF) <- names(df)
ZeroDF <- bind_rows(replicate(3, zeroSR, simplify = FALSE)) %>%
arrange(Site, ForestAge) %>%
mutate(diversity_estimate = 0, order = rep(0:2, 4), coverage = NA) %>%
select(Site, order, coverage, diversity_estimate, ForestAge, CanopyClosure:WaterDistance)
names(ZeroDF) <- names(df)
df_use <- bind_rows(df, ZeroDF)
head(ZeroDF)
df_use <- data.frame(df, ZeroDF)
?bind_rows
head(df)
df_use <- bind_rows(df, ZeroDF)
df_use
# quick check
head(df_use)
df_prep <- data.frame(diversity_data_coverage,
compartment_age = rep(habitat_use$ForestAge, each= 3),
canopy_closure = rep(habitat_use$CanopyClosure, each = 3),
leaf_litter_depth = rep(habitat_use$LeafLitterDepth, each = 3),
understory_height = rep(habitat_use$HerbPlantHeight, each = 3),
No.WaterBodies = rep(habitat_use$No.WaterBodies, each = 3),
WaterDistance = rep(habitat_use$WaterDistance, each = 3)) %>%
rename(coverage = SC) %>%
rename(diversity_estimate = qD) %>%
select(-m,-method, -qD.LCL, -qD.UCL)
# ADD BACK IN THE Three Compartments with 0 SR
zeroSR <- filter(habitat2, !Site %in% levels(diversity_data_coverage$Site))
ZeroDF <- bind_rows(replicate(3, zeroSR, simplify = FALSE)) %>%
arrange(Site, ForestAge) %>%
mutate(diversity_estimate = 0, order = rep(0:2, 4), coverage = NA) %>%
select(Site, order, coverage, diversity_estimate, ForestAge, CanopyClosure:WaterDistance)
names(ZeroDF) <- names(df_prep)
head(df_prep)
df <- bind_rows(df, ZeroDF)
# quick check
head(df)
SR_data <- filter(df, order == 0) %>% filter(compartment_age!='Unlogged') %>%
mutate(compartment_age = as.numeric(as.character(compartment_age)))
SR_unlogged <- filter(df, order == 0) %>% filter(compartment_age =='Unlogged')
Simp_data <- filter(df, order == 2) %>% filter(compartment_age!='Unlogged') %>%
mutate(compartment_age = as.numeric(as.character(compartment_age)))
Simp_unlogged <- filter(df, order == 2) %>% filter(compartment_age =='Unlogged')
head(SR_data)
tail(SR_data)
SR_plot <- ggplot(SR_data, aes(x = compartment_age, y = diversity_estimate))+
geom_point(size = 5)+
geom_text_repel(aes(label=Site), point.padding = 0.5) +
geom_point(data = SR_unlogged, aes(x = 50, y = diversity_estimate), colour = 'red', size = 5)+
labs(x = "Compartment Age (Years Since Last Logging)",
y = "Species Richness Estimate") +
annotate('text', x = 48, y = 3, angle = 90, label = "Unlogged", col = 'red')+
theme_bw()
Simp_plot <- ggplot(Simp_data, aes(x = compartment_age, y = diversity_estimate))+
geom_point(size = 5)+
geom_text_repel(aes(label=Site), point.padding = 0.5) +
geom_point(data = Simp_unlogged, aes(x = 50, y = diversity_estimate), colour = 'red', size = 5)+
labs(x = "Compartment Age (Years Since Last Logging)",
y = "Simpsons Diversity Estimate") +
annotate('text', x = 48, y = 2, angle = 90, label = "Unlogged", col = 'red') +
theme_bw()
grid.arrange(SR_plot, Simp_plot)
# habitat plots ----
SR_canopy_closure <- ggplot(SR_data, aes(x = canopy_closure, y = diversity_estimate))+
geom_point(size = 5)+
geom_text_repel(aes(label=Site), point.padding = 0.5) +
labs(x = "Canopy Closure",
y = "Species Richness Estimate") +
theme_bw()
SR_leaf_litter_depth <- ggplot(SR_data, aes(x = leaf_litter_depth, y = diversity_estimate))+
geom_point(size = 5)+
geom_text_repel(aes(label=Site), point.padding = 0.5) +
labs(x = "Leaf Litter Depth",
y = "Species Richness Estimate") +
theme_bw()
SR_understory_height <- ggplot(SR_data, aes(x = understory_height, y = diversity_estimate))+
geom_point(size = 5)+
geom_text_repel(aes(label=Site), point.padding = 0.5) +
labs(x = "Understory Height",
y = "Species Richness Estimate") +
theme_bw()
SR_No.WaterBodies <- ggplot(SR_data, aes(x = No.WaterBodies, y = diversity_estimate))+
geom_point(size = 5)+
geom_text_repel(aes(label=Site), point.padding = 0.5) +
labs(x = "No.WaterBodies",
y = "Species Richness Estimate") +
theme_bw()
grid.arrange(SR_canopy_closure, SR_leaf_litter_depth,
SR_understory_height, SR_No.WaterBodies,
ncol = 2)
head(SR_data)
# pairs correlations
ggpairs(select(SR_data,compartment_age:No.WaterBodies))
librayr(ggally)
library(ggally)
library(GGally)
# pairs correlations
ggpairs(select(SR_data,compartment_age:No.WaterBodies))
# linear model with all terms.  log transforming the Estimator may be justified
mod <- lm(diversity_estimate ~ compartment_age +
canopy_closure + leaf_litter_depth + understory_height + No.WaterBodies,
data = SR_data)
autoplot(mod, smooth.colour = NA)
# signficnant (almost) age and leaf litter.
# log transformation removes age.
summary(mod)
mod_step <- stepAIC(mod)
summary(mod_step)
etasq(mod, anova = TRUE)
etasq(mod_step, anova = TRUE)
# linear model with all terms.  log transforming the Estimator may be justified
mod <- lm(log(diversity_estimate) ~ compartment_age +
canopy_closure + leaf_litter_depth + understory_height + No.WaterBodies,
data = SR_data)
# linear model with all terms.  log transforming the Estimator may be justified
mod <- lm(log(diversity_estimate+1) ~ compartment_age +
canopy_closure + leaf_litter_depth + understory_height + No.WaterBodies,
data = SR_data)
autoplot(mod, smooth.colour = NA)
# signficnant (almost) age and leaf litter.
# log transformation removes age.
summary(mod)
mod_step <- stepAIC(mod)
summary(mod_step)
etasq(mod, anova = TRUE)
etasq(mod_step, anova = TRUE)
summary(mod_step)
?ggtitle
library(tidyverse)
hab_master <- read_csv("./SpeciesAdultData/RawHabitatData.csv")
names(hab_master)
hab_work <- hab_master %>%
gather(key = Sample, value = LeafLitter,
LeafLitter1:LeafLitter12)
hab_work <- hab_master %>%
gather(key = Sample, value = LeafLitter,
LeafLitter1:LeafLitter12)
names(hab_work)
hab_work <- hab_master %>%
gather(key = Sample, value = LeafLitter,
LeafLitter1:LeafLitter12)
names(hab_work)
?scale_x_continuous
hab_work <- hab_master %>%
gather(key = SampleLitter, value = LeafLitter,
LeafLitter1:LeafLitter12) %>%
gather(key = SampleCanopy, value = CanopyClosure,
CanopyClosure1:CanopyClosure12) %>%
gather(key = SampleHerb, value = HerbHeight,
HerbHeight1:HerbHeight6)
names(hab_work)
hab_work <- hab_master %>%
gather(key = SampleLitter, value = LeafLitter,
LeafLitter1:LeafLitter12) %>%
gather(key = SampleCanopy, value = CanopyClosure,
CanopyClosure1:CanopyClosure12) %>%
gather(key = SampleHerb, value = HerbHeight,
HerbHeight1:HerbHeight6)
names(hab_work)
head(hab_work)
hab_Litter <- hab_master %>%
gather(key = SampleLitter, value = LeafLitter,
LeafLitter1:LeafLitter12)
names(hab_Litter)
hab_Litter <- hab_master %>%
gather(key = SampleLitter, value = LeafLitter,
LeafLitter1:LeafLitter12) %>%
select(Compartment, `Age of forest`, LoggingRotation, SampleLitter, LeafLitter)
head(hab_Litter)
hab_Litter <- hab_master %>%
gather(key = SampleLitter, value = LeafLitter,
LeafLitter1:LeafLitter12) %>%
select(Compartment, `Age of forest`, LoggingRotation, SampleLitter, LeafLitter)
head(hab_Litter)
hab_Canopy <- hab_master %>%
gather(key = SampleCanopy, value = CanopyClosure,
CanopyClosure1:CanopyClosure12) %>%
select(Compartment, `Age of forest`, LoggingRotation, SampleCanopy, CanopyClosure)
hab_Herb <- hab_master %>%
gather(key = SampleHerb, value = HerbHeight,
HerbHeight1:HerbHeight6) %>%
select(Compartment, `Age of forest`, LoggingRotation, SampleHerb, HerbHeight)
?join
all_hab <- data.frame(
hab_Litter,
select(hab_Canopy, SampleCanopy, CanopyClosure),
select(hab_Herb, SampleHerb, HerbHeight)
)
dim(all_hab)
dim(hab_Herb); dim(hab_Canopy); dim(hab_Litter)
dim(all_hab)
# Create Nada Habitat Summary Data
library(tidyverse)
hab_master <- read_csv("./SpeciesAdultData/RawHabitatData.csv")
names(hab_master)
hab_Litter <- hab_master %>%
gather(key = SampleLitter, value = LeafLitter,
LeafLitter1:LeafLitter12) %>%
select(Compartment, `Age of forest`, LoggingRotation, SampleLitter, LeafLitter)
head(hab_Litter)
hab_Canopy <- hab_master %>%
gather(key = SampleCanopy, value = CanopyClosure,
CanopyClosure1:CanopyClosure12) %>%
select(Compartment, `Age of forest`, LoggingRotation, SampleCanopy, CanopyClosure)
hab_Herb <- hab_master %>%
gather(key = SampleHerb, value = HerbHeight,
HerbHeight1:HerbHeight6) %>%
select(Compartment, `Age of forest`, LoggingRotation, SampleHerb, HerbHeight)
all_hab <- data.frame(
hab_Litter,
select(hab_Canopy, SampleCanopy, CanopyClosure),
select(hab_Herb, SampleHerb, HerbHeight)
)
dim(hab_Herb); dim(hab_Canopy); dim(hab_Litter)
dim(all_hab)
hab_Herb %>%
group_by(Compartment, `Age of Forest`, LoggingRotation) %>%
summarise(herb_mean_height = mean(HerbHeight))
names(hab_Herb)
hab_Herb %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(herb_mean_height = mean(HerbHeight))
hab_Herb %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(herb_mean_height = mean(HerbHeight, na.rm = TRUE))
Herb_means <- hab_Herb %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(herb_mean_height = mean(HerbHeight, na.rm = TRUE))
head(Herb_means)
Herb_means <- hab_Herb %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(herb_mean_height = mean(HerbHeight, na.rm = TRUE))
head(Herb_means)
hab_Canopy
Canopy_means <- hab_Canopy %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(canopy_mean_closure = mean(CanopyClosure, na.rm = TRUE))
head(Canopy_means)
names(hab_Litter)
Litter_means <- hab_Litter %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(litter_mean_depth = mean(LeafLitter, na.rm = TRUE))
head(Litter_means)
Herb_means %>% filter(LoggingRotation == 1)
Herb_means %>% filter(LoggingRotation == 1) %>% dim()
Herb_means %>% filter(LoggingRotation == 1) %>% dim()
Litter_means %>% filter(LoggingRotation == 1) %>% dim()
Canopy_means %>% filter(LoggingRotation == 1) %>% dim()
Herb_means_Rot1 <- Herb_means %>% filter(LoggingRotation == 1)
Litter_means_Rot1 %>% filter(LoggingRotation == 1)
Canopy_means_Rot1 %>% filter(LoggingRotation == 1)
Herb_means_Rot1 <- Herb_means %>% filter(LoggingRotation == 1)
Litter_means_Rot1 <- Litter_means %>% filter(LoggingRotation == 1)
Canopy_means_Rot1 <- Canopy_means %>% filter(LoggingRotation == 1)
hab_means_rot1 <- data.frame(Herb_means_Rot1,
select(Litter_means_Rot1, litter_mean_depth),
select(Canopy_means_Rot1, canopy_mean_closure))
Herb_means_Rot1
Litter_means_Rot1
hab_means_rot1 <- data.frame(Herb_means_Rot1,
select(Litter_means_Rot1, litter_mean_depth),
select(Canopy_means_Rot1, canopy_mean_closure))
head(hab_means_rot1)
hab_means_rot1 <- tibble(Herb_means_Rot1,
select(Litter_means_Rot1, litter_mean_depth),
select(Canopy_means_Rot1, canopy_mean_closure))
head(hab_means_rot1)
select(Litter_means_Rot1, litter_mean_depth)
Litter_means_Rot1
select(Litter_means_Rot1, litter_mean_depth)
hab_means_rot1 <- tibble(Herb_means_Rot1,
dplyr::select(Litter_means_Rot1, litter_mean_depth),
dplyr::select(Canopy_means_Rot1, canopy_mean_closure))
head(hab_means_rot1)
Herb_means_Rot1 <- Herb_means %>% filter(LoggingRotation == 1)
Litter_means_Rot1 <- Litter_means %>% filter(LoggingRotation == 1) %>% select(litter_mean_depth)
Canopy_means_Rot1 <- Canopy_means %>% filter(LoggingRotation == 1) %>% select(canopy_mean_closure)
hab_means_rot1 <- data.frame(Herb_means_Rot1, Litter_means_Rot1, Canopy_means_Rot1)
head(hab_means_rot1)
Litter_means_Rot1
Litter_means <- hab_Litter %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(litter_mean_depth = mean(LeafLitter, na.rm = TRUE))
head(Litter_means)
Herb_means_Rot1 <- Herb_means %>% filter(LoggingRotation == 1)
Litter_means_Rot1 <- Litter_means %>% filter(LoggingRotation == 1) %>% select(litter_mean_depth)
Canopy_means_Rot1 <- Canopy_means %>% filter(LoggingRotation == 1) %>% select(canopy_mean_closure)
Herb_means <- hab_Herb %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(herb_mean_height = mean(HerbHeight, na.rm = TRUE))
head(Herb_means)
Canopy_means <- hab_Canopy %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(canopy_mean_closure = mean(CanopyClosure, na.rm = TRUE))
head(Canopy_means)
Litter_means <- hab_Litter %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(litter_mean_depth = mean(LeafLitter, na.rm = TRUE))
head(Litter_means)
Herb_means_Rot1 <- Herb_means %>% filter(LoggingRotation == 1)
Litter_means_Rot1 <- Litter_means %>% filter(LoggingRotation == 1) %>% select(litter_mean_depth)
Canopy_means_Rot1 <- Canopy_means %>% filter(LoggingRotation == 1) %>% select(canopy_mean_closure)
library(tidyverse)
hab_master <- read_csv("./SpeciesAdultData/RawHabitatData.csv")
names(hab_master)
hab_Litter <- hab_master %>%
gather(key = SampleLitter, value = LeafLitter,
LeafLitter1:LeafLitter12) %>%
select(Compartment, `Age of forest`, LoggingRotation,
SampleLitter, LeafLitter)
head(hab_Litter)
hab_Canopy <- hab_master %>%
gather(key = SampleCanopy, value = CanopyClosure,
CanopyClosure1:CanopyClosure12) %>%
select(Compartment, `Age of forest`, LoggingRotation,
SampleCanopy, CanopyClosure)
hab_Herb <- hab_master %>%
gather(key = SampleHerb, value = HerbHeight,
HerbHeight1:HerbHeight6) %>%
select(Compartment, `Age of forest`, LoggingRotation,
SampleHerb, HerbHeight)
dim(hab_Herb); dim(hab_Canopy); dim(hab_Litter)
Herb_means <- hab_Herb %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(herb_mean_height = mean(HerbHeight, na.rm = TRUE))
head(Herb_means)
Canopy_means <- hab_Canopy %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(canopy_mean_closure = mean(CanopyClosure, na.rm = TRUE))
head(Canopy_means)
Litter_means <- hab_Litter %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(litter_mean_depth = mean(LeafLitter, na.rm = TRUE))
head(Litter_means)
Herb_means_Rot1 <- Herb_means %>% filter(LoggingRotation == 1)
Litter_means_Rot1 <- Litter_means %>% filter(LoggingRotation == 1) %>% select(litter_mean_depth)
Canopy_means_Rot1 <- Canopy_means %>% filter(LoggingRotation == 1) %>% select(canopy_mean_closure)
?select
update.packages()
library(tidyverse)
Herb_means_Rot1 <- Herb_means %>% filter(LoggingRotation == 1)
Litter_means_Rot1 <- Litter_means %>% filter(LoggingRotation == 1) %>% select(litter_mean_depth)
Canopy_means_Rot1 <- Canopy_means %>% filter(LoggingRotation == 1) %>% select(canopy_mean_closure)
Herb_means <- hab_Herb %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(herb_mean_height = mean(HerbHeight, na.rm = TRUE)) %>%
filter(LoggingRotation == 1)
head(Herb_means)
Herb_means <- hab_Herb %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(herb_mean_height = mean(HerbHeight, na.rm = TRUE)) %>%
filter(LoggingRotation == 1)
head(Herb_means)
Canopy_means <- hab_Canopy %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(canopy_mean_closure = mean(CanopyClosure, na.rm = TRUE)) %>%
filter(LoggingRotation == 1)
head(Canopy_means)
Litter_means <- hab_Litter %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(litter_mean_depth = mean(LeafLitter, na.rm = TRUE)) %>%
filter(LoggingRotation == 1)
head(Litter_means)
Canopy_means <- hab_Canopy %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(canopy_mean_closure = mean(CanopyClosure, na.rm = TRUE)) %>%
filter(LoggingRotation == 1) %>%
select(canopy_mean_closure)
head(Canopy_means)
Canopy_means <- hab_Canopy %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(canopy_mean_closure = mean(CanopyClosure, na.rm = TRUE)) %>%
filter(LoggingRotation == 1) %>%
ungroup() %>%
select(canopy_mean_closure)
head(Canopy_means)
hab_means_rot1 <- data.frame(Herb_means, Litter_means, Canopy_means)
head(hab_means_rot1)
Litter_means <- hab_Litter %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(litter_mean_depth = mean(LeafLitter, na.rm = TRUE)) %>%
filter(LoggingRotation == 1) %>%
ungroup() %>%
select(litter_mean_depth)
head(Litter_means)
Herb_means <- hab_Herb %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(herb_mean_height = mean(HerbHeight, na.rm = TRUE)) %>%
filter(LoggingRotation == 1) %>%
ungroup()
head(Herb_means)
Canopy_means <- hab_Canopy %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(canopy_mean_closure = mean(CanopyClosure, na.rm = TRUE)) %>%
filter(LoggingRotation == 1) %>%
ungroup() %>%
select(canopy_mean_closure)
head(Canopy_means)
Litter_means <- hab_Litter %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(litter_mean_depth = mean(LeafLitter, na.rm = TRUE)) %>%
filter(LoggingRotation == 1) %>%
ungroup() %>%
select(litter_mean_depth)
head(Litter_means)
hab_means_rot1 <- data.frame(Herb_means, Litter_means, Canopy_means)
head(hab_means_rot1)
hab_means_rot1 <- data.frame(Herb_means, Litter_means, Canopy_means)
head(hab_means_rot1)
Herb_means <- hab_Herb %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(herb_mean_height = mean(HerbHeight, na.rm = TRUE),
herb_sd_height = sd(HerbHeight, na.rm = TRUE),
herb_n_height = sum(!is.na(HerbHeight))) %>%
filter(LoggingRotation == 1) %>%
ungroup()
head(Herb_means)
Herb_means <- hab_Herb %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(herb_mean_height = mean(HerbHeight, na.rm = TRUE),
herb_sd_height = sd(HerbHeight, na.rm = TRUE),
herb_n_height = sum(!is.na(HerbHeight))) %>%
filter(LoggingRotation == 1) %>%
ungroup()
head(Herb_means)
Canopy_means <- hab_Canopy %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(canopy_mean_closure = mean(CanopyClosure, na.rm = TRUE),
canopy_sd_closure = sd(CanopyClosure, na.rm = TRUE),
canopy_n_closure = sum(!is.na(CanopyClosure))) %>%
filter(LoggingRotation == 1) %>%
ungroup() %>%
select(canopy_mean_closure, canopy_sd_closure, canopy_n_closure)
head(Canopy_means)
Litter_means <- hab_Litter %>%
group_by(Compartment, `Age of forest`, LoggingRotation) %>%
summarise(litter_mean_depth = mean(LeafLitter, na.rm = TRUE),
litter_sd_depth = sd(LeafLitter, na.rm = TRUE),
litter_n_depth = sum(!is.na(LeafLitter))) %>%
filter(LoggingRotation == 1) %>%
ungroup() %>%
select(litter_mean_depth, litter_sd_depth, litter_n_depth)
head(Litter_means)
hab_means_rot1 <- data.frame(Herb_means, Litter_means, Canopy_means)
head(hab_means_rot1)
hab_summary_rot1 <- data.frame(Herb_means, Litter_means, Canopy_means)
?starts_with
hab_summary_rot1 <- data.frame(Herb_means, Litter_means, Canopy_means)
hab_summary_rot1 <- select(hab_summary_rot1,
Compartment,
Age.of.forest,
contains("_mean_"),
contains("_sd_"),
contains("_n_")
)
head(hab_means_rot1)
names(hab_summary_rot1)
head(hab_means_rot1)
head(hab_summary_rot1)
write_csv(hab_summary_rot1, path = "hab_summary_rot1.csv")
write_csv(hab_summary_rot1, path = "./SpeciesAdultData/hab_summary_rot1.csv")
